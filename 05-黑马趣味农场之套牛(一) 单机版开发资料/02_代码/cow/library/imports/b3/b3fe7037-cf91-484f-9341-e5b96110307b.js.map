{"version":3,"sources":["assets\\scripts\\cow.js"],"names":["cow_skin","cc","Class","name","properties","cows","type","SpriteFrame","Component","cow_sets","onLoad","intervalTime","randomType","Math","floor","random","start","update","dt","index","cowSet","sprite","node","getComponent","Sprite","spriteFrame","runCallback","log"],"mappings":";;;;;;AACA,IAAMA,QAAQ,GAAGC,EAAE,CAACC,KAAH,CAAS;AACtBC,EAAAA,IAAI,EAAC,UADiB;AAEtBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,IAAI,EAAC;AACD,iBAAQ,EADP;AAEDC,MAAAA,IAAI,EAAC,CAACL,EAAE,CAACM,WAAJ;AAFJ;AADG;AAFU,CAAT,CAAjB;AASAN,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACO,SADP;AAGLJ,EAAAA,UAAU,EAAE;AACRK,IAAAA,QAAQ,EAAC;AACL,iBAAS,EADJ;AAELH,MAAAA,IAAI,EAAE,CAACN,QAAD;AAFD;AADD,GAHP;AAULU,EAAAA,MAVK,oBAUK;AACN,SAAKC,YAAL,GAAoB,CAApB,CADM,CAEN;;AACA,SAAKC,UAAL,GAAkBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAc,CAAzB,CAAlB;AACH,GAdI;AAgBLC,EAAAA,KAhBK,mBAgBI,CAER,CAlBI;AAsBLC,EAAAA,MAtBK,kBAsBGC,EAtBH,EAsBO;AACR;AACA,SAAKP,YAAL,IAAqBO,EAArB;AACA,QAAIC,KAAK,GAAGN,IAAI,CAACC,KAAL,CAAW,KAAKH,YAAL,GAAoB,GAA/B,CAAZ;AACAQ,IAAAA,KAAK,GAAGA,KAAK,GAAC,CAAd,CAJQ,CAKR;;AACA,QAAIC,MAAM,GAAG,KAAKX,QAAL,CAAc,KAAKG,UAAnB,CAAb,CANQ,CAQR;;AACA,QAAIS,MAAM,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBtB,EAAE,CAACuB,MAA1B,CAAb;AACAH,IAAAA,MAAM,CAACI,WAAP,GAAqBL,MAAM,CAACf,IAAP,CAAYc,KAAZ,CAArB;AACH,GAjCI;AAkCLO,EAAAA,WAlCK,yBAkCS;AACVzB,IAAAA,EAAE,CAAC0B,GAAH,CAAO,SAAP;AACA,SAAKf,UAAL,GAAkBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAc,CAAzB,CAAlB;AACH;AArCI,CAAT","sourceRoot":"/","sourcesContent":["\r\nconst cow_skin = cc.Class({\r\n    name:\"cow_skin\",\r\n    properties: {\r\n        cows:{\r\n            default:[],\r\n            type:[cc.SpriteFrame]\r\n        }\r\n    }\r\n});\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        cow_sets:{\r\n            default: [],\r\n            type: [cow_skin]\r\n        }\r\n    },\r\n\r\n    onLoad () {\r\n        this.intervalTime = 0;\r\n        // 随机一种类型\r\n        this.randomType = Math.floor(Math.random()*3);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n\r\n    \r\n    update (dt) {\r\n        // 间隔时间\r\n        this.intervalTime += dt;\r\n        let index = Math.floor(this.intervalTime / 0.2);\r\n        index = index%3;\r\n        // 获取一种牛的类型\r\n        let cowSet = this.cow_sets[this.randomType];\r\n\r\n        // 获取精灵组件\r\n        let sprite = this.node.getComponent(cc.Sprite);\r\n        sprite.spriteFrame = cowSet.cows[index];\r\n    },\r\n    runCallback() {\r\n        cc.log(\"一个轮回结束！\");\r\n        this.randomType = Math.floor(Math.random()*3);\r\n    }\r\n});\r\n"]}